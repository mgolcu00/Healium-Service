/*

{
  "name": "Healthy Meal Plan For Depression",
  "tags": "Depression, Healthy Eating, Nutrition",
  "keywords": "Depression, Stable emotional state, Healthy Eating, Nutrition, Mental Health",
  "purpose": "Creating a healthy eating plan for people suffering from depression.",
  "expectedResults": "The result of the meal plan should make individuals suffering from depression feel better, and improve their mental health.",
  "days": [
    {
      "num": 1,
      "name": "Monday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Oats",
              "amount": 5,
              "type": "Gram"
            },
            {
              "name": "Banana",
              "amount": 1,
              "type": "Unit"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Salad",
              "amount": 2,
              "type": "Cup"
            },
            {
              "name": "Chicken",
              "amount": 3,
              "type": "Ounces"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Sweet Potato",
              "amount": 1,
              "type": "Unit"
            },
            {
              "name": "Broccoli",
              "amount": 1,
              "type": "Cup"
            }
          ]
        }
      ]
    },
    {
      "num": 2,
      "name": "Tuesday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Yogurt",
              "amount": 8,
              "type": "Ounce"
            },
            {
              "name": "Berries",
              "amount": 1,
              "type": "Cup"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Carrots",
              "amount": 2,
              "type": "Cup"
            },
            {
              "name": "Tuna",
              "amount": 5,
              "type": "Ounces"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Brown Rice",
              "amount": 1,
              "type": "Cup"
            },
            {
              "name": "Asparagus",
              "amount": 1,
              "type": "Cup"
            }
          ]
        }
      ]
    },
    {
      "num": 3,
      "name": "Wednesday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Eggs",
              "amount": 2,
              "type": "Unit"
            },
            {
              "name": "Avocado",
              "amount": 1,
              "type": "Unit"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Quinoa",
              "amount": 1,
              "type": "Cup"
            },
            {
              "name": "Beans",
              "amount": 1,
              "type": "Cup"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Salmon",
              "amount": 8,
              "type": "Ounces"
            },
            {
              "name": "Spinach",
              "amount": 2,
              "type": "Cup"
            }
          ]
        }
      ]
    },
    {
      "num": 4,
      "name": "Thursday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Whole Grain Toast",
              "amount": 1,
              "type": "Unit"
            },
            {
              "name": "Almond Butter",
              "amount": 1,
              "type": "Tablespoon"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Cucumber",
              "amount": 1,
              "type": "Unit"
            },
            {
              "name": "Turkey",
              "amount": 5,
              "type": "Ounces"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Beets",
              "amount": 1,
              "type": "Cup"
            },
            {
              "name": "Hummus",
              "amount": 1,
              "type": "Tablespoon"
            }
          ]
        }
      ]
    },
    {
      "num": 5,
      "name": "Friday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Muffin",
              "amount": 1,
              "type": "Unit"
            },
            {
              "name": "Apple",
              "amount": 1,
              "type": "Unit"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Mushrooms",
              "amount": 2,
              "type": "Cup"
            },
            {
              "name": "Lentils",
              "amount": 1,
              "type": "Cup"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Shrimp",
              "amount": 8,
              "type": "Ounces"
            },
            {
              "name": "Zucchini",
              "amount": 3,
              "type": "Unit"
            }
          ]
        }
      ]
    },
    {
      "num": 6,
      "name": "Saturday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Cereal",
              "amount": 2,
              "type": "Cup"
            },
            {
              "name": "Blueberries",
              "amount": 1,
              "type": "Cup"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Bell Peppers",
              "amount": 1,
              "type": "Cup"
            },
            {
              "name": "Tofu",
              "amount": 5,
              "type": "Ounces"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Barley",
              "amount": 1,
              "type": "Cup"
            },
            {
              "name": "Brussels Sprouts",
              "amount": 1,
              "type": "Cup"
            }
          ]
        }
      ]
    },
    {
      "num": 7,
      "name": "Sunday",
      "meals": [
        {
          "name": "Breakfast",
          "num": 1,
          "ingredients": [
            {
              "name": "Pancakes",
              "amount": 1,
              "type": "Unit"
            },
            {
              "name": "Maple Syrup",
              "amount": 1,
              "type": "Tablespoon"
            }
          ]
        },
        {
          "name": "Lunch",
          "num": 2,
          "ingredients": [
            {
              "name": "Romaine Lettuce",
              "amount": 2,
              "type": "Cup"
            },
            {
              "name": "Pork",
              "amount": 5,
              "type": "Ounces"
            }
          ]
        },
        {
          "name": "Dinner",
          "num": 3,
          "ingredients": [
            {
              "name": "Popcorn",
              "amount": 3,
              "type": "Cup"
            },
            {
              "name": "Almonds",
              "amount": 1,
              "type": "Tablespoon"
            }
          ]
        }
      ]
    }
  ]
}

*/

const mongoose = require('mongoose');
const { Schema } = mongoose;

const IngredientSchema = new Schema({
  name: { type: String, required: true },
  amount: { type: Number, required: true },
  type: { type: String, required: true }
}, { _id : false });

const MealSchema = new Schema({
  name: { type: String, required: true },
  num: { type: Number, required: true },
  ingredients: { type: [IngredientSchema], required: true }
}, { _id : false });

const DaySchema = new Schema({
  num: { type: Number, required: true },
  name: { type: String, required: true },
  meals: { type: [MealSchema], required: true }
}, { _id : false });

const GptCreatedDietSchema = new Schema({
  name: { type: String, required: true },
  tags: { type: [String], required: true },
  keywords: { type: [String], required: true },
  purpose: { type: String, required: true },
  expectedResults: { type: String, required: true },
  days: { type: [DaySchema], required: true },
  createdAt: { type: Date, default: Date.now },
  updatedAt: { type: Date, default: Date.now },
  userId: { type: Schema.Types.ObjectId, ref: 'User' , required: false},
  demandId: { type: Schema.Types.ObjectId, ref: 'UserDemand' , required: false}
});

module.exports = mongoose.model('GptCreatedDiet', GptCreatedDietSchema);

